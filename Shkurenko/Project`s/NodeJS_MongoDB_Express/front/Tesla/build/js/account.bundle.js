!function(){"use strict";const e={Android:function(){return navigator.userAgent.match(/Android/i)},Blackberry:function(){return navigator.userAgent.match(/Blackberry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.Blackberry()||e.iOS()||e.Opera()||e.Windows()}};const t=document.querySelector(".menu__icon"),o=document.querySelector(".menu__body");var n="http://localhost:5000/auth/registration",r="http://localhost:5000/auth/login";const s=document.querySelector(".preloader"),a=n,i=r;if(document.body.onload=function(){setTimeout((function(){s.classList.contains("done")||s.classList.add("done")}),500)},document.querySelector(".form")){const c=document.querySelector(".container-form"),l=document.querySelector(".form__login"),d=document.querySelector(".form__sign-up"),u=document.querySelector("#username"),m=document.querySelector("#password"),y=document.querySelector("#username-error"),p=(document.querySelector("#password-error"),document.querySelector("#username-signUp")),g=document.querySelector("#password-signUp"),f=document.querySelector("#confirm-password"),v=document.querySelector("#username-signUp-error"),L=document.querySelector("#password-signUp-error"),S=document.querySelector("#confirm-password-error"),b=document.querySelector("#link-to-signUp"),q=document.querySelector("#link-to-login");function h(e){if(e.target.value===g.value)return e.target.style.borderColor="gray",S.style.display="none",!0}function k(e){e.target.style.borderColor="gray",e.target.nextElementSibling.style.display="none"}u.addEventListener("input",k),u.addEventListener("input",k),p.addEventListener("input",k),g.addEventListener("input",k),f.addEventListener("input",h),b.addEventListener("click",(e=>{e.preventDefault(),c.classList.add("active")})),q.addEventListener("click",(e=>{e.preventDefault(),c.classList.remove("active")})),l.addEventListener("submit",(e=>{e.preventDefault();let t=new FormData;t.append("username",u.value),t.append("password",m.value),s.classList.contains("done")&&s.classList.remove("done"),async function(e,t){const o=await fetch(e,{method:"POST",body:t});let n=await o.json();o.ok?(setTimeout((function(){s.classList.contains("done")||s.classList.add("done")}),100),c.style.display="none",await localStorage.setItem("token",JSON.stringify(n.token)),await localStorage.setItem("username",JSON.stringify(u.value)),console.log("login")):(setTimeout((function(){s.classList.contains("done")||s.classList.add("done")}),100),console.log(n),n.message&&(u.style.borderColor="red",y.style.display="block",y.innerText=n.message,u.focus()))}(i,t)})),d.addEventListener("submit",(e=>{if(e.preventDefault(),t=g,n=S,(o=f)&&o.value!==t.value&&(o.style.borderColor="red",n.style.display="block",o.focus(),1))return!1;{let r=new FormData;async function i(e,t){const o=await fetch(e,{method:"POST",body:t});let n=await o.json();o.ok?(setTimeout((function(){s.classList.contains("done")||s.classList.add("done")}),100),c.style.display="none",document.querySelector(".account__signup-text").style.display="block"):(setTimeout((function(){s.classList.contains("done")||s.classList.add("done")}),100),console.log(n),n.errors&&n.message?"username"===n.errors.errors[0].path?(p.style.borderColor="red",v.style.display="block",v.innerText=n.errors.errors[0].msg,p.focus()):"password"===n.errors.errors[0].path&&(g.style.borderColor="red",L.style.display="block",L.innerText=n.errors.errors[0].msg,g.focus()):n.message&&(p.style.borderColor="red",v.style.display="block",v.innerText=n.message,p.focus()))}r.append("username",p.value),r.append("password",g.value),s.classList.contains("done")&&s.classList.remove("done"),i(a,r)}var t,o,n}))}e.any()?document.body.classList.add("_touch"):document.body.classList.add("_pc"),t&&t.addEventListener("click",(function(){document.body.classList.toggle("_lock"),t.classList.toggle("_active"),o.classList.toggle("_active")}))}();